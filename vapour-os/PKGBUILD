# Maintainer: Dankcuddlybear <dankcuddlybear@protonmail.com>
pkgname=vapour-os
pkgver=1.0.0
pkgrel=10
pkgdesc='A modular Arch based distro optimised for energy saving and ease of use (core system)'
arch=(x86_64)
url='https://github.com/dankcuddlybear/vapourepo'
install=vapour-os.install
backup=('etc/skel/.config/yay/config.json' 'etc/vapour-os/vapour-os.conf')
depends=('base'
	'chaotic-keyring' 'chaotic-mirrorlist'
	'dosfstools'
	'efibootmgr' 'ethtool'
	'fscrypt'
	'hdparm' 'fscrypt'
	'iw'
	'kernel-modules-hook'
	'linux-firmware'
	'networkmanager' 'nss-mdns'
	'polkit'
	'sbctl' 'sudo'
	'vapour-os-mirrorlist'
	'wireless-regdb'
)
package() {
	cp -r "$srcdir/../files/etc" "$pkgdir"
	cp -r "$srcdir/../files/usr" "$pkgdir"
	chmod 750 "$pkgdir/etc/sudoers.d"
	chmod +x "$pkgdir/usr/bin/syscfg" \
		"$pkgdir/usr/lib/vapour-os/" \
		"$pkgdir/usr/lib/vapour-os/hp-lid-fix" \
		"$pkgdir/usr/lib/vapour-os/limine-install" \
		"$pkgdir/usr/lib/vapour-os/mkfstab" \
		"$pkgdir/usr/lib/vapour-os/power-balanced" \
		"$pkgdir/usr/lib/vapour-os/random-errormsg" \
		"$pkgdir/usr/lib/vapour-os/setvar" \
		"$pkgdir/usr/lib/vapour-os/vapour-os-installer" \
		"$pkgdir/usr/lib/vapour-os/wakeonlan-ethernet" \
		"$pkgdir/usr/lib/vapour-os/wakeonlan-wifi" \
		"$pkgdir/usr/share/libalpm/scripts/vapour-os/filesystem" \
		"$pkgdir/usr/share/libalpm/scripts/vapour-os/lsb-release" \
		"$pkgdir/usr/share/libalpm/scripts/vapour-os/mirrors" \
		"$pkgdir/usr/share/libalpm/scripts/vapour-os/nano" \
		"$pkgdir/usr/share/libalpm/scripts/vapour-os/openssh" \
		"$pkgdir/usr/share/libalpm/scripts/vapour-os/postupgrade" \
		"$pkgdir/usr/share/libalpm/scripts/vapour-os/setup"
}
