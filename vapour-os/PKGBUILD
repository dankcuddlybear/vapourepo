# Maintainer: Dankcuddlybear <dankcuddlybear@protonmail.com>
pkgname=vapour-os
pkgver=1.0.0
pkgrel=13
pkgdesc='A modular Arch based distro optimised for energy saving and ease of use (core system)'
arch=(x86_64)
url='https://github.com/dankcuddlybear/vapourepo'
install=vapour-os.install
backup=('etc/skel/.config/yay/config.json' 'etc/vapour-os/vapour-os.conf')
depends=('base'
	'chaotic-keyring' 'chaotic-mirrorlist'
	'dosfstools'
	'efibootmgr' 'ethtool'
	'fscrypt'
	'hdparm' 'fscrypt'
	'iw'
	'kernel-modules-hook'
	'linux-firmware'
	'networkmanager' 'nss-mdns'
	'polkit'
	'sbctl' 'sudo'
	'vapour-os-mirrorlist'
	'wireless-regdb'
)
package() {
	cp -r "$srcdir/../files/etc" "$pkgdir"
	cp -r "$srcdir/../files/usr" "$pkgdir"
	chmod 750 "$pkgdir/etc/sudoers.d"
	chmod +x "$pkgdir/usr/bin/syscfg" \
		"$pkgdir/usr/lib/systemd/system-sleep/00-udevadm-trigger" \
		"$pkgdir/usr/lib/$pkgname/install.sh" \
		"$pkgdir/usr/lib/$pkgname/hp-lid-fix" \
		"$pkgdir/usr/lib/$pkgname/limine-install" \
		"$pkgdir/usr/lib/$pkgname/mkfstab" \
		"$pkgdir/usr/lib/$pkgname/power-balanced" \
		"$pkgdir/usr/lib/$pkgname/random-errormsg" \
		"$pkgdir/usr/lib/$pkgname/setvar" \
		"$pkgdir/usr/lib/$pkgname/update-release.sh" \
		"$pkgdir/usr/lib/$pkgname/wakeonlan-ethernet" \
		"$pkgdir/usr/lib/$pkgname/wakeonlan-wifi" \
		"$pkgdir/usr/share/libalpm/scripts/$pkgname/mirrors" \
		"$pkgdir/usr/share/libalpm/scripts/$pkgname/nano" \
		"$pkgdir/usr/share/libalpm/scripts/$pkgname/openssh" \
		"$pkgdir/usr/share/libalpm/scripts/$pkgname/postupgrade" \
		"$pkgdir/usr/share/libalpm/scripts/$pkgname/setup"
}
